{"version":3,"sources":["webpack:///webpack/bootstrap 2be1112ba28d8529076a","webpack:///external \"express\"","webpack:///external \"mongoose\"","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///external \"dotenv\"","webpack:///external \"bcrypt\"","webpack:///external \"jsonwebtoken\"","webpack:///./nuxt.config.js","webpack:///./server/api/index.js","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"cors\"","webpack:///external \"nuxt\"","webpack:///./server/api/admin/routes.js","webpack:///./server/api/articles/controllers.js","webpack:///./server/api/articles/models.js","webpack:///./server/api/articles/routes.js","webpack:///./server/api/users/controllers.js","webpack:///./server/api/users/models.js","webpack:///./server/api/users/routes.js","webpack:///./server/middleware/authenticate.js","webpack:///./server/util/filtersensative.js","webpack:///external \"child_process\"","webpack:///external \"regenerator-runtime\"","webpack:///./server/index.js"],"names":["require","config","module","exports","head","link","href","rel","script","src","css","build","vendor","env","HOST","PORT","URL","API_HOST","API_PORT","API_URL","vue","middleware","router","express","Router","use","get","req","res","json","users","process","post","author","body","console","log","spawn","dataString","stdout","on","data","toString","articles","articleModel","find","status","message","pub_date","publication","title","url","mixed","newArticle","save","article","code","articleId","_id","params","error","findOneAndUpdate","delete","findByIdAndRemove","articleSchema","mongoose","Schema","type","String","required","unique","misc","Types","Mixed","model","userModel","username","email","password","bcrypt","hash","newUser","user","put","signIn","findOne","hashedPassword","compare","matched","filterSensative","token","jwt","sign","SECRET","expiresIn","singOut","userSchema","timestamps","pre","callback","isModified","authenticate","next","query","headers","cookies","verify","decoded","send","Object","keys","toObject","reduce","acc","item","dotenv","app","bodyParser","urlencoded","extended","cookieParser","Promise","global","connect","DB_URL","dev","nuxt","render","catch","exit","listen","err"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2be1112ba28d8529076a","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 2\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 5\n// module chunks = 0","require('dotenv').config()\n\nmodule.exports = {\n\thead: {\n\t\tlink: [\n\t\t\t{ href: 'https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons', rel: 'stylesheet'},\n\t\t\t// <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel=\"stylesheet\" type=\"text/css\">\n\t\t\t{ href: 'https://unpkg.com/vuetify/dist/vuetify.min.css', rel: 'stylesheet'},\n\t\t\t// <link href=\"https://unpkg.com/vuetify/dist/vuetify.min.css\" rel=\"stylesheet\" type=\"text/css\">\n\t\t],\n\t\tscript: [\n\t\t\t{ src: 'https://unpkg.com/vuetify/dist/vuetify.min.js'}\n\t\t]\n\t},\n\tcss: [\n  \t'assets/main.css',\n  \t'assets/normalize.css'\n  ],\n  build: {\n    vendor: ['axios']\n  },\n  env: {\n  \tHOST: '127.0.0.1',\n\t\tPORT: 3000,\n\t\tURL: 'http://127.0.0.1:3000',\n\n\t\tAPI_HOST: '127.0.0.1',\n\t\tAPI_PORT: 3000,\n\t\tAPI_URL: 'http://127.0.0.1:3000'\n  },\n  vue: {\n  \tmiddleware: 'vuetify'\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import express from 'express'\nimport userRoutes from './users/routes'\nimport articleRoutes from './articles/routes'\nimport adminRoutes from './admin/routes'\nconst router = express.Router()\n\nrouter.use('/admin', adminRoutes)\nrouter.use('/users', userRoutes)\nrouter.use('/articles', articleRoutes)\nrouter.use('/admin', adminRoutes)\n\n\nrouter.get('/', (req, res) => {\n\tres.json({\n\t\tusers: `${process.env.API_URL}/api/users`\n\t})\n})\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 11\n// module chunks = 0","import express from 'express'\nimport { spawn } from 'child_process'\n\nconst router = express.Router()\n\nrouter.post('/author', (req, res) => {\n\tlet { author } = req.body\n\tconsole.log(req.body)\n\tlet process = spawn('python', ['./puller/APIPullers.py', author])\n\tlet dataString = ''\n\tprocess.stdout.on('data', data => {\n\t\tdataString += data.toString()\n\t})\n\tprocess.stdout.on('end', data => {\n\t\tconsole.log(dataString)\n\t\tres.json(dataString)\n\t})\n})\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/api/admin/routes.js","import articleModel from './models'\n\nexport const articles = {\n\tasync get(req, res) {\n\t\ttry {\n\t\t\tconst articles = await articleModel.find({})\n\t\t\tres.json(articles)\n\t\t} catch(error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ message: 'Internal server error.' })\n\t\t}\n\t},\n\tasync post(req, res) {\n\t\ttry {\n\t\t\tlet {\n\t\t\t\tauthor,\n\t\t\t\tpub_date,\n\t\t\t\tpublication,\n\t\t\t\ttitle,\n\t\t\t\turl,\n\t\t\t\tmixed\n\t\t  } = req.body\n\t\t\tlet newArticle = new articleModel({\n\t\t\t\tauthor,\n\t\t\t\tpub_date,\n\t\t\t\tpublication,\n\t\t\t\ttitle,\n\t\t\t\turl,\n\t\t\t\tmixed\n\t\t\t})\n\t\t\tlet article = await newArticle.save()\n\t\t\tres.json(article)\n\t\t} catch(error) {\n\t\t\tconsole.log(error)\n\t\t\tif (error.code === 11000) {\n\t\t\t\tres.status(202).json({ message: 'Already exists' })\n\t\t\t}\n\t\t\tres.status(500).json({ message: 'Internal server error.' })\n\t\t}\n\t}\n}\n\nexport const articleId = {\n\tasync get(req, res) {\n\t\ttry {\n\t\t\tlet { _id } = req.params\n\t\t\tconsole.log(req.params)\n\t\t\tlet article = await articleModel.find({ _id })\n\t\t\tres.json(article)\n\t\t} catch(error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Internal Server Error.' })\n\t\t}\n\t},\n\tasync post(req, res) {\n\t\ttry {\n\t\t\tlet {\n\t\t\t\tauthor,\n\t\t\t\tpub_date,\n\t\t\t\tpublication,\n\t\t\t\ttitle,\n\t\t\t\turl,\n\t\t\t\tmixed,\n\t\t\t\t_id\n\t\t  } = req.body\n\t\t  // let payload = Object.keys(req.body).reduce((acc, item) => {\t\n\t\t  // }, {})\n\t\t\tlet article = await articleModel.findOneAndUpdate({ _id }, {\n\t\t\t\tauthor,\n\t\t\t\tpub_date,\n\t\t\t\tpublication,\n\t\t\t\ttitle,\n\t\t\t\turl,\n\t\t\t\tmixed\n\t\t\t})\n\t\t\tres.status(200).json(article)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync delete(req, res) {\n\t\ttry {\n\t\t\tlet { _id } = req.params\n\t\t\tlet article = await articleModel.findByIdAndRemove({ _id })\n\t\t\tres.json({ article, message: 'Successfully deleted.' })\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Internal Server Error.' })\n\t\t}\n\t\t\n\n\t}\n}\n\n\n// {\n// \t 'author': u'David Remnick',\n//   'pub_date': u'2017-03-19T02:53:06Z',\n//   'publication': u'The New Yorker',\n//   'title': u'Remembering Chuck Berry, Who Died at Ninety',\n//   'url': u'http://www.newyorker.com/culture/culture-desk/remembering-chuck-berry-who-died-at-ninety?mbid=rss'\n// }\n\n\n// router.get('/', articles.get)\n// router.post('/', articles.post)\n\n// router.get('/:articleId', articleId.get)\n// router.post('/:articleId', articleId.post)\n// router.delete('/:articleId', articleId.delete)\n\n\n// WEBPACK FOOTER //\n// ./server/api/articles/controllers.js","import mongoose from \"mongoose\"\n\nconst articleSchema = new mongoose.Schema({\n\tauthor: {\n\t\ttype: [String],\n\t\trequire: true\n\t},\n\ttitle: {\n\t\ttype: String,\n\t\trequire: true,\n\t},\n\tpublication: {\n\t\ttype: String,\n\t\trequired: true\n\t},\n\turl: {\n\t\ttype: String,\n\t\trequire: true,\n\t\tunique: true,\n\t},\n\tbody: {\n\t\ttype: String,\n\t\trequire: true\n\t},\n\tpub_date: {\n\t\ttype: String,\n\t},\n\tmisc: {\n\t\ttype: mongoose.Schema.Types.Mixed\n\t}\n})\n\n\nconst articleModel = mongoose.model('Article', articleSchema)\n\nexport default articleModel\n\n// {\n// \t\"author\": \"David Remnick\",\n//   \"pub_date\": \"2017-03-19T02:53:06Z\",\n//   \"publication\": \"The New Yorker\",\n//   \"title\": \"Remembering Chuck Berry, Who Died at Ninety\",\n//   \"url\": \"http://www.newyorker.com/culture/culture-desk/remembering-chuck-berry-who-died-at-ninety?mbid=rss\",\n//   \"mixed\": \"{ \\\"dog\\\": \\\"Sayllu\\\" }\" \n// }\n\n\n// WEBPACK FOOTER //\n// ./server/api/articles/models.js","import express from 'express'\nimport { articles, articleId } from './controllers'\n\nconst router = express.Router()\n\nrouter.get('/', articles.get)\nrouter.post('/', articles.post)\n\nrouter.get('/:_id', articleId.get)\nrouter.post('/:_id', articleId.post)\nrouter.delete('/:_id', articleId.delete)\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/api/articles/routes.js","import userModel from './models'\nimport jwt from 'jsonwebtoken'\nimport bcrypt from 'bcrypt'\nimport { filterSensative } from '../../util/filtersensative'\n\nexport const users = {\n\tasync get(req, res) {\n\t\ttry {\n\t\t\tlet users = await userModel.find({})\n\t\t\tres.json(users)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync post(req, res) {\n\t\ttry {\n\t\t\tlet { username, email, password } = req.body\n\t\t\tlet hash = await bcrypt.hash(password, 10)\n\t\t\tlet newUser = new userModel({ username, email, password: hash })\n\t\t\tlet user = await newUser.save()\n\t\t\tres.json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t}\n}\n\nexport const username = {\n\tasync get(req, res) {\n\t\ttry {\n\t\t\tlet { username } = req.params\n\t\t\tconsole.log(username)\n\t\t\tlet user = await userModel.find({ username })\n\t\t\tres.json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync post(req, res) {\n\t\ttry {\n\t\t\tlet { username, email } = req.body\n\t\t\tlet user = await userModel.findOneAndUpdate({ username }, { username, email })\n\t\t\tres.status(200).json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync put(req, res) {\n\t\ttry {\n\t\t\tlet { username, email } = req.body\n\t\t\tlet user = await userModel.findOneAndUpdate({ username }, { username, email })\n\t\t\tres.status(201).json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync delete(req, res) {\n\n\t},\n}\n\nexport const signIn = {\n\tasync post(req, res) {\n\t\ttry {\n\t\t\tlet { username, password } = req.body\n\t\t\tlet user = await userModel.findOne({ username })\n\t\t\tlet hashedPassword = user.password\n\t\t\tlet matched =\tawait bcrypt.compare(password, hashedPassword)\n\t    if (!user) {\n\t\t\t\tres.status(404).json({\n\t\t\t\t\tmessage: 'Authentication failed, can\\'t find user'\n\t\t\t\t})\n\t\t\t} else if (!matched) {\n\t\t\t\tres.status(404).json({\n\t\t\t\t\tmessage: 'Authntication failed. Wrong password'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuser = filterSensative(user)\n\t\t\t\tlet token = jwt.sign(user, process.env.SECRET, {\n\t\t\t\t\texpiresIn: 60 * 60 * 24 * 30 // 30 days \n\t\t\t\t})\n\t\t\t\tres.status(200).json({\n\t\t\t\t\tmessage: 'Enjoy your token!',\n\t\t\t\t\ttoken,\n\t\t\t\t\tuser\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({\n\t\t\t\terror: 'Internal Server Error.'\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const singOut = {\n\tasync post(req, res) {\n\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./server/api/users/controllers.js","import mongoose from 'mongoose'\nimport bcrypt from 'bcrypt'\n\nconst userSchema = new mongoose.Schema({\n\tusername: {\n\t\ttype: String,\n\t\tunique: true,\n\t\trequire: true\n\t},\n\temail: {\n\t\ttype: String,\n\t\tunique: true,\n\t\trequire: true\n\t},\n\tpassword: {\n\t\ttype: String,\n\t\tunique: true,\n\t\trequire: true\n\t},\n\t// profile: {\n\t// \ttype: mongoose.Schema.Types.ObjectID,\n\t// \tref: 'Profile'\n\t// }\n}, {\n  timestamps: true\n})\n\nconst userModel = mongoose.model('User', userSchema)\n\n\n// hash the password if it is ever saved to the DB.\nuserSchema.pre('save', async function(callback) {\n\tif (!this.isModified('password')) return callback()\n\tconst hash = await bcrypt.hash(this.password, 10)\n\tthis.password = hash\n\tcallback()\n})\n\n\nexport default userModel\n\n\n// module.exports = {\n// \tusers: [\n// \t\t{\n// \t\t\tusername: 'rlindskog',\n// \t\t\temail: 'r.lindskog17@gmail.com',\n// \t\t\tadmin: true,\n// \t\t\tverified: true,\n// \t\t\thref: `${process.env.API_URL}/api/rlindskog`\n// \t\t},\n// \t\t{\n// \t\t\tusername: 'john',\n// \t\t\temail: 'john@gmail.com',\n// \t\t\tadmin: false,\n// \t\t\tverified: false,\n// \t\t\thref: `${process.env.API_URL}/api/john`\n// \t\t},\n// \t\t{\n// \t\t\tusername: 'jaccob',\n// \t\t\temail: 'jaccob@gmail.com',\n// \t\t\tadmin: false,\n// \t\t\tverified: true,\n// \t\t\thref: `${process.env.API_URL}/api/jaccob`\n// \t\t},\n// \t]\n// }\n\n\n// WEBPACK FOOTER //\n// ./server/api/users/models.js","import express from 'express'\nimport { users, username, signIn } from './controllers'\nimport authenticate from '../../middleware/authenticate'\nconst router = express.Router()\n\nrouter.get('/', users.get)\nrouter.post('/', users.post)\n\nrouter.post('/signin', signIn.post)\n// router.get('/signin', signIn.post)\n\nrouter.get('/:username', authenticate, username.get)\nrouter.post('/:username', authenticate, username.post)\nrouter.put('/:username', authenticate, username.put)\nrouter.delete('/:username', authenticate, username.delete)\n\n\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/api/users/routes.js","const jwt = require('jsonwebtoken')\n\nlet authenticate = (req, res, next) => {\n\tlet token = req.body.token || req.query.token || req.headers['x-access-token'] || req.cookies.token\n\tif (token) {\n\t\tjwt.verify(token, process.env.SECRET, (error, decoded) => {\n\t\t\tif (error) {\n\t\t\t\treturn res.status(400).json({\n\t\t\t\t\tmessage: 'Failed to authenticate token.'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\treq.user = decoded\n\t\t\t\tnext()\n\t\t\t}\n\t\t})\n\t} else {\n\t\treturn res.status(403).send({\n\t\t\tmessage: 'No token provided.'\n\t\t})\n\t}\n}\n\nexport default authenticate\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/authenticate.js","export function filterSensative(user) {\n\tlet newUser = Object.keys(user.toObject()).reduce((acc, item) => {\n\t  if (item !== 'password' && item !== 'createdAt' && item !== 'updatedAt') {\n\t\t\tacc[item] = user[item]\n\t\t}\n\t\treturn acc\n\t}, {})\n\treturn newUser\n}\n\n\n// WEBPACK FOOTER //\n// ./server/util/filtersensative.js","module.exports = require(\"child_process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"child_process\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 22\n// module chunks = 0","import dotenv from 'dotenv'\ndotenv.config()\nimport bodyParser from 'body-parser'\nimport cookieParser from 'cookie-parser'\nimport cors from 'cors'\nimport express from 'express'\nimport api from './api/index'\nimport mongoose from 'mongoose'\nimport Nuxt from 'nuxt'\nconst app = express()\n\n// app.use(cors({\n// \torigin: process.env.URL\n// }))\napp.use(bodyParser.urlencoded({ extended: false }))\napp.use(bodyParser.json())\napp.use(cookieParser())\n\napp.use('/api', api)\n\n// Connect to DB\nmongoose.Promise = global.Promise\nmongoose.connect(process.env.DB_URL)\n\n// Import and Set Nuxt.js options\nlet config = require('../nuxt.config.js')\nconfig.dev = !(process.env.NODE_ENV === 'production')\n\n// Init Nuxt.js\nconst nuxt = new Nuxt(config)\napp.use(nuxt.render)\n\n// Build only in dev mode\nif (config.dev) {\n  nuxt.build()\n  .catch((error) => {\n    console.error(error) // eslint-disable-line no-console\n    process.exit(1)\n  })\n}\n\n\napp.listen(process.env.API_PORT, process.env.API_HOST, err => {\n\tif (err) throw err\n\tconsole.log(`🌎 API listening at http://${process.env.API_HOST}:${process.env.API_PORT}`)\n})\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}