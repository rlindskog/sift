{"version":3,"sources":["webpack:///webpack/bootstrap da2b502181e116f7852d","webpack:///external \"express\"","webpack:///external \"dotenv\"","webpack:///external \"mongoose\"","webpack:///./server/api/users/models.js","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///external \"bcrypt\"","webpack:///./nuxt.config.js","webpack:///./server/api/index.js","webpack:///external \"body-parser\"","webpack:///external \"nuxt\"","webpack:///./server/api/articles/routes.js","webpack:///./server/api/users/controllers.js","webpack:///./server/api/users/routes.js","webpack:///./server/util/filtersensative.js","webpack:///external \"jsonwebtoken\"","webpack:///external \"regenerator-runtime\"","webpack:///./server/index.js"],"names":["usersSchema","mongoose","Schema","username","type","String","unique","require","email","password","timestamps","usersModel","model","pre","callback","isModified","bcrypt","hash","config","module","exports","head","link","href","rel","script","src","css","build","vendor","env","HOST","PORT","URL","API_HOST","API_PORT","API_URL","vue","middleware","router","express","Router","use","get","req","res","json","users","process","find","console","log","status","error","post","body","newUser","save","user","findOneAndUpdate","put","delete","signIn","findOne","hashedPassword","compare","matched","message","filterSensative","token","jwt","sign","SECRET","expiresIn","Object","keys","toObject","reduce","acc","item","dotenv","app","bodyParser","urlencoded","extended","Promise","global","connect","DB_URL","dev","nuxt","render","catch","exit","listen","err"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap da2b502181e116f7852d","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 2\n// module chunks = 0","import mongoose from 'mongoose'\nimport bcrypt from 'bcrypt'\n\nconst usersSchema = new mongoose.Schema({\n\tusername: {\n\t\ttype: String,\n\t\tunique: true,\n\t\trequire: true\n\t},\n\temail: {\n\t\ttype: String,\n\t\tunique: true,\n\t\trequire: true\n\t},\n\tpassword: {\n\t\ttype: String,\n\t\tunique: true,\n\t\trequire: true\n\t}\n}, {\n  timestamps: true\n})\n\nconst usersModel = mongoose.model('User', usersSchema)\n\n\n// hash the password if it is ever saved to the DB.\nusersSchema.pre('save', async function(callback) {\n\tif (!this.isModified('password')) return callback()\n\tconst hash = await bcrypt.hash(this.password, 10)\n\tthis.password = hash\n\tcallback()\n})\n\n\nexport default usersModel\n\n\n// module.exports = {\n// \tusers: [\n// \t\t{\n// \t\t\tusername: 'rlindskog',\n// \t\t\temail: 'r.lindskog17@gmail.com',\n// \t\t\tadmin: true,\n// \t\t\tverified: true,\n// \t\t\thref: `${process.env.API_URL}/rlindskog`\n// \t\t},\n// \t\t{\n// \t\t\tusername: 'john',\n// \t\t\temail: 'john@gmail.com',\n// \t\t\tadmin: false,\n// \t\t\tverified: false,\n// \t\t\thref: `${process.env.API_URL}/john`\n// \t\t},\n// \t\t{\n// \t\t\tusername: 'jaccob',\n// \t\t\temail: 'jaccob@gmail.com',\n// \t\t\tadmin: false,\n// \t\t\tverified: true,\n// \t\t\thref: `${process.env.API_URL}/jaccob`\n// \t\t},\n// \t]\n// }\n\n\n// WEBPACK FOOTER //\n// ./server/api/users/models.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 4\n// module chunks = 0","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 5\n// module chunks = 0","require('dotenv').config()\n\nmodule.exports = {\n\thead: {\n\t\tlink: [\n\t\t\t{ href: 'https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons', rel: 'stylesheet'},\n\t\t\t// <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel=\"stylesheet\" type=\"text/css\">\n\t\t\t{ href: 'https://unpkg.com/vuetify/dist/vuetify.min.css', rel: 'stylesheet'},\n\t\t\t// <link href=\"https://unpkg.com/vuetify/dist/vuetify.min.css\" rel=\"stylesheet\" type=\"text/css\">\n\t\t],\n\t\tscript: [\n\t\t\t{ src: 'https://unpkg.com/vuetify/dist/vuetify.min.js'}\n\t\t]\n\t},\n\tcss: [\n  \t'assets/main.css',\n  \t'assets/normalize.css'\n  ],\n  build: {\n    vendor: ['axios']\n  },\n  env: {\n  \tHOST: '127.0.0.1',\n\t\tPORT: 3000,\n\t\tURL: 'http://127.0.0.1:3000',\n\n\t\tAPI_HOST: '127.0.0.1',\n\t\tAPI_PORT: 3000,\n\t\tAPI_URL: 'http://127.0.0.1:3000/api'\n  },\n  vue: {\n  \tmiddleware: 'vuetify'\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import express from 'express'\nimport usersRoutes from './users/routes'\nimport articlesUsers from './articles/routes'\n\nconst router = express.Router()\n\nrouter.use('/users', usersRoutes)\nrouter.use('/articles', articlesUsers)\n\nrouter.get('/', (req, res) => {\n\tres.json({\n\t\tusers: `${process.env.API_URL}/users`\n\t})\n})\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 9\n// module chunks = 0","import express from 'express'\n// import { articles, articleId } from './controllers'\nconst router = express.Router()\n\n// router.get('/', articles.get)\n// router.post('/', articles.post)\n\n// router.get('/:articleId', articleId.get)\n// router.post('/:articleId', articleId.post)\n// router.delete('/:articleId', articleId.delete)\n\n\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/api/articles/routes.js","import usersModel from './models'\nimport jwt from 'jsonwebtoken'\nimport bcrypt from 'bcrypt'\nimport { filterSensative } from '../../util/filtersensative'\n\nexport const users = {\n\tasync get(req, res) {\n\t\ttry {\n\t\t\tlet users = await usersModel.find({})\n\t\t\tres.json(users)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync post(req, res) {\n\t\ttry {\n\t\t\tlet { username, email, password } = req.body\n\t\t\tlet hash = await bcrypt.hash(password, 10)\n\t\t\tlet newUser = new usersModel({ username, email, password: hash })\n\t\t\tlet user = await newUser.save()\n\t\t\tres.json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t}\n}\n\nexport const username = {\n\tasync get(req, res) {\n\t\ttry {\n\t\t\tlet username = req.body.username\n\t\t\tlet user = await usersModel.find({ username })\n\t\t\tres.json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync post(req, res) {\n\t\ttry {\n\t\t\tlet { username, email } = req.body\n\t\t\tlet user = await usersModel.findOneAndUpdate({ username }, { username, email })\n\t\t\tres.status(200).json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync put(req, res) {\n\t\ttry {\n\t\t\tlet { username, email } = req.body\n\t\t\tlet user = await usersModel.findOneAndUpdate({ username }, { username, email })\n\t\t\tres.status(201).json(user)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({ error: 'Error 500. Internal server error' })\n\t\t}\n\t},\n\tasync delete(req, res) {\n\n\t},\n}\n\nexport const signIn = {\n\tasync post(req, res) {\n\t\ttry {\n\n\t\t\tlet { username, password } = req.body\n\t\t\tlet user = await usersModel.findOne({ username })\n\t\t\tlet hashedPassword = user.password\n\t\t\tlet matched =\tawait bcrypt.compare(password, hashedPassword)\n\t    if (!user) {\n\t\t\t\tres.status(404).json({\n\t\t\t\t\tmessage: 'Authentication failed, can\\'t find user'\n\t\t\t\t})\n\t\t\t} else if (!matched) {\n\t\t\t\tres.status(404).json({\n\t\t\t\t\tmessage: 'Authntication failed. Wrong password'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuser = filterSensative(user)\n\t\t\t\tlet token = jwt.sign(user, process.env.SECRET, {\n\t\t\t\t\texpiresIn: 60 * 60 * 24 * 30 // 30 days \n\t\t\t\t})\n\t\t\t\tres.status(200).json({\n\t\t\t\t\tmessage: 'Enjoy your token!',\n\t\t\t\t\ttoken,\n\t\t\t\t\tuser\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tres.status(500).json({\n\t\t\t\terror: 'Internal Server Error.'\n\t\t\t})\n\t\t}\n\t}\n}\n\n// export singOut = {\n// \tasync post(req, res) {\n\n// \t}\n// }\n\n\n// WEBPACK FOOTER //\n// ./server/api/users/controllers.js","import express from 'express'\nimport usersModels from './models'\nimport { users, username, signIn } from './controllers'\n\nconst router = express.Router()\n\nrouter.get('/', users.get)\nrouter.post('/', users.post)\n\nrouter.post('/signin', signIn.post)\n// router.get('/signin', signIn.post)\n\nrouter.get('/:user', username.get)\nrouter.post('/:user', username.post)\nrouter.put('/:user', username.put)\nrouter.delete('/:user', username.delete)\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/api/users/routes.js","export function filterSensative(user) {\n\tlet newUser = Object.keys(user.toObject()).reduce((acc, item) => {\n\t  if (item !== 'password' && item !== 'createdAt' && item !== 'updatedAt') {\n\t\t\tacc[item] = user[item]\n\t\t}\n\t\treturn acc\n\t}, {})\n\treturn newUser\n}\n\n\n// WEBPACK FOOTER //\n// ./server/util/filtersensative.js","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 15\n// module chunks = 0","import bodyParser from 'body-parser'\nimport dotenv from 'dotenv'\ndotenv.config()\nimport express from 'express'\nimport api from './api/index'\nimport mongoose from 'mongoose'\nimport Nuxt from 'nuxt'\n\nconst app = express()\n\napp.use(bodyParser.urlencoded({ extended: false }))\napp.use(bodyParser.json())\n\napp.use('/api', api)\n\n// Connect to DB\nmongoose.Promise = global.Promise\nmongoose.connect(process.env.DB_URL)\n\n// Import and Set Nuxt.js options\nlet config = require('../nuxt.config.js')\nconfig.dev = !(process.env.NODE_ENV === 'production')\n\n// Init Nuxt.js\nconst nuxt = new Nuxt(config)\napp.use(nuxt.render)\n\n// Build only in dev mode\nif (config.dev) {\n  nuxt.build()\n  .catch((error) => {\n    console.error(error) // eslint-disable-line no-console\n    process.exit(1)\n  })\n}\n\n\napp.listen(process.env.API_PORT, process.env.API_HOST, err => {\n\tif (err) throw err\n\tconsole.log(`ðŸŒŽ API listening at http://${process.env.API_HOST}:${process.env.API_PORT}`)\n})\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}